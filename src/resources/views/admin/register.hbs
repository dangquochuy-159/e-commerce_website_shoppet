<link rel="stylesheet" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="/icon/fontawesome-free-6.4.0-web/css/all.min.css">

<link rel="stylesheet" href="/css/app.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>






<div class="login_register-form">
    <form class="form" method="POST" action="/admin/kiem-tra-dang-ky" name="register-form">
        <h3>Đăng ký tài khoản</h3>
        <div class="form-input">
            <div class="mb-3">
                <label for="name" class="form-label">Tên</label>
                <input type="text" class="form-control" id="name" name="name" />
            </div>
            <div class="mb-3">
                <label for="user_name" class="form-label">Tên đăng nhập</label>
                <input type="email" class="form-control" id="user_name" name="user_name" />
            </div>

            <div class="mb-3">
                <label for="password" class="form-label">Mật khẩu</label>
                <input type="password" class="form-control" id="password" name="password" />
                <i class="fa-regular fa-eye show-pass"></i>
            </div>
            <div class="mb-3">
                <label for="confirm_pass" class="form-label">Xác nhận mật khẩu</label>
                <input type="password" class="form-control" id="confirm_pass" name="confirm_pass" />
                <i class="fa-regular fa-eye show-pass"></i>
                <span class="msg_err"></span>
            </div>
            <div class="mb-3">
                <label for="image" class="form-label">Ảnh</label>
                <input type="text" class="form-control" id="image" name="image" />
            </div>
            <div class="btn-list">
                <button type="submit" class="btn btn-primary  btn-submit">Đăng ký</button>
            </div>
            <div class="back">
                <a href="javascript:history.back()">
                    Quay lại
                    <i class="fa-solid fa-house"></i>
                </a>
            </div>
    </form>
</div>

<script>
    const formRegister = document.forms['register-form']
    const messageError = formRegister.querySelector('.msg_err')
    const btnSubmit = formRegister.querySelector('.btn-submit')
    const inputPass = formRegister.querySelector('input[name="password"]')
    const inputConfirmPass = formRegister.querySelector('input[name="confirm_pass"]')
    const showPass = formRegister.querySelectorAll('.show-pass')

    showPass.forEach((item) => {
        item.onclick = () => {
            let input = item.parentElement.querySelector('input')
            let type = input.type === 'password' ? 'text' : 'password'
            input.type = type
            item.classList.toggle('fa-eye');
            item.classList.toggle('fa-eye-slash');
        }
    })

    inputConfirmPass.oninput = function () {
        messageError.innerText = ""
    }

    formRegister.onsubmit = function (event) {

        if (inputConfirmPass.value === inputPass.value) {
            formRegister.submit()
        } else {
            messageError.innerText = "Mật khẩu xác nhận chưa khớp"
            event.preventDefault();
        }

    }

</script>